
<!DOCTYPE html>
<html>
<head> 
<title>Blogs.JiangDunchun</title>
    <link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all">
    <link href="css/sectionstyle.css" rel="stylesheet" type="text/css" media="all" />
    <script src="./blogs/blogs.js"></script>
    <script src="./js/jquery-3.3.1.min.js"></script>
    <script src="./js/marked.min.js"></script>
</head>
 
<body>
    <div class="header-section">
        <div style="height: 5px"></div>
        <div style="width:1000px;margin:0 auto;">
            <a href="./index.html"><img src="src/img/avatar.jpg"></a>
            <h1>Jiang Dunchun Blogs</h1>
        </div>
    </div>
    <div id="blogs_div" style="width:800px;margin:0 auto;color:#393b3a;">

    </div>
    <div class="footer-section">
        <p>Copyright &copy; 2019 Jiang Dunchun.Supported by <a href="http://www.bootcss.com">bootstrap</a></p>
    </div>
    <script type="text/javascript">
        var cata_div = document.getElementById("blogs_div");
        var catalog = BlogsCatalog;

        creat_blog = function(path){
            while(cata_div.children.length > 0){
                cata_div.removeChild(cata_div.children[0]);
            }
            
            $.post("blogs/"+path,null,function(data){
                var htm = marked(data);
                cata_div.innerHTML = htm;
            });
        }

        creat_catalog = function(name, time, path){
            
            var name_p = document.createElement("p");
            name_p.style.cssText = "font-size:1.5em;float:left;font-weight:bold;";
            name_p.innerText = name;
            name_p.onclick = Function("creat_blog('"+path+"');");

            var time_p = document.createElement("p");
            time_p.style.cssText = "font-size:1em;float:right;font-style:italic;";
            time_p.innerText = time;

            var b_div = document.createElement("div");
            b_div.style.cssText = "clear:both";

            cata_div.appendChild(name_p);
            cata_div.appendChild(time_p);
            cata_div.appendChild(b_div);
        }
        
        for(var i in catalog){
            creat_catalog(catalog[i].name, catalog[i].time, catalog[i].path);
        }
	</script>

</body>
 
</html>